---
interface Book {
  title: string;
  author: string;
  cover?: string;
  url?: string;
  status?: 'reading' | 'completed' | 'want-to-read';
  year?: number;
}

interface Props {
  books: Book[];
  title?: string;
}

const { books, title = 'Currently Reading' } = Astro.props;
---

<div class="bookshelf">
  <h2 class="section-heading">{title}</h2>
  <div class="bookshelf__shelf">
    {books.map((book) => (
      <div class="book-spine">
        {book.cover ? (
          <img src={book.cover} alt={book.title} />
        ) : (
          <div class="book-spine__placeholder">
            <span class="book-spine__title">{book.title}</span>
            <span class="book-spine__author">{book.author}</span>
          </div>
        )}
      </div>
    ))}
  </div>
</div>

<style>
  .bookshelf {
    margin-block: var(--size-6);
  }

  .section-heading {
    font-size: clamp(var(--font-size-2), 4vw, var(--font-size-3));
    margin-bottom: var(--size-4);
  }

  .bookshelf__shelf {
    display: flex;
    gap: var(--size-2);
    align-items: flex-end;
    padding: var(--size-3);
    background: var(--surface-2);
    border-radius: var(--radius-2);
    border-bottom: 3px solid var(--surface-4);
  }

  .book-spine {
    width: 140px;
    height: 200px;
    border-radius: var(--radius-1);
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s ease;
    cursor: pointer;
  }

  .book-spine:hover {
    transform: translateY(-8px);
  }

  .book-spine img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .book-spine__placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--surface-3) 0%, var(--surface-4) 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: var(--size-3);
    text-align: center;
  }

  .book-spine__title {
    font-size: var(--font-size-0);
    font-weight: var(--font-weight-6);
    color: var(--text-1);
    margin-bottom: var(--size-2);
  }

  .book-spine__author {
    font-size: var(--font-size-00);
    color: var(--text-3);
  }

  @media (max-width: 768px) {
    .book-spine {
      width: 110px;
      height: 160px;
    }
  }

  @media (max-width: 600px) {
    .book-spine {
      width: 90px;
      height: 130px;
    }

    .bookshelf__shelf {
      gap: var(--size-1);
      padding: var(--size-2);
    }
  }
</style>
