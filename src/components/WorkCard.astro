---
interface Props {
  title: string;
  summary: string;
  systemType: string;
  outcome?: string;
  href: string;
  tags?: string[];
}

const { title, summary, systemType, outcome, href, tags = [] } = Astro.props;
const isExternal = href.startsWith('http');
---

<a href={href} class="work-card" target={isExternal ? "_blank" : undefined} rel={isExternal ? "noopener" : undefined}>
  <p class="work-card__type">{systemType}</p>
  <h3 class="work-card__title">{title}</h3>
  <p class="work-card__summary">{summary}</p>
  {outcome && <p class="work-card__outcome">{outcome}</p>}
  <span class="work-card__link">
    {isExternal ? "View project →" : "Read case study →"}
  </span>
</a>

<style>
  .work-card {
    display: block;
    background: var(--surface-2);
    border: 1px solid var(--surface-3);
    border-radius: var(--radius-2);
    padding: var(--size-4);
    text-decoration: none;
    transition: border-color 0.15s ease, background 0.15s ease;
    min-height: 44px;
  }

  .work-card:hover {
    border-color: var(--brand);
    background: var(--surface-2);
  }

  @media (max-width: 600px) {
    .work-card {
      padding: var(--size-3);
    }
  }

  .work-card__type {
    font-family: var(--font-mono);
    font-size: var(--font-size-00);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--brand);
    margin-bottom: var(--size-2);
  }

  .work-card__title {
    font-size: var(--font-size-2);
    font-weight: var(--font-weight-6);
    color: var(--text-1);
    margin-bottom: var(--size-2);
    line-height: var(--font-lineheight-2);
  }

  .work-card__summary {
    font-size: var(--font-size-0);
    color: var(--text-2);
    margin-bottom: var(--size-2);
    line-height: var(--font-lineheight-3);
  }

  .work-card__outcome {
    font-family: var(--font-mono);
    font-size: var(--font-size-00);
    color: var(--text-3);
    margin-bottom: var(--size-3);
  }

  .work-card__link {
    font-size: var(--font-size-0);
    color: var(--brand);
    font-weight: var(--font-weight-5);
  }

  .work-card:hover .work-card__link {
    text-decoration: underline;
  }
</style>
