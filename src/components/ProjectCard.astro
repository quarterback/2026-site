---
interface Props {
  title: string;
  description: string;
  impact?: string;
  tags?: string[];
  link?: string;
  image?: string;
}

const { title, description, impact, tags = [], link, image } = Astro.props;
---

<article class="project-card card">
  {image && (
    <div class="project-card__image">
      <img src={image} alt={title} loading="lazy" />
    </div>
  )}
  <div class="project-card__content">
    <h3 class="project-card__title">
      {link ? <a href={link}>{title}</a> : title}
    </h3>
    <p class="project-card__description">{description}</p>
    {impact && (
      <p class="project-card__impact">{impact}</p>
    )}
    {tags.length > 0 && (
      <div class="project-card__tags">
        {tags.map(tag => <span class="tag">{tag}</span>)}
      </div>
    )}
  </div>
</article>

<style>
  .project-card {
    display: flex;
    flex-direction: column;
    gap: var(--size-3);
  }

  .project-card__image {
    aspect-ratio: var(--ratio-widescreen);
    overflow: hidden;
    border-radius: var(--radius-2);
    background: var(--surface-3);
  }

  .project-card__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .project-card__title {
    font-size: var(--font-size-2);
    font-weight: var(--font-weight-6);
  }

  .project-card__title a {
    color: inherit;
  }

  .project-card__title a:hover {
    color: var(--brand-accent);
  }

  .project-card__description {
    color: var(--text-2);
    font-size: var(--font-size-1);
  }

  .project-card__impact {
    font-family: var(--font-mono);
    font-size: var(--font-size-0);
    color: var(--brand-accent);
  }

  .project-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--size-2);
    margin-block-start: var(--size-2);
  }

  .tag {
    font-size: var(--font-size-00);
    font-family: var(--font-mono);
    color: var(--text-3);
    background: var(--surface-3);
    padding: var(--size-1) var(--size-2);
    border-radius: var(--radius-2);
  }
</style>
