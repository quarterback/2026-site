---
// Stubs for API integrations - replace with actual data fetching
// These mirror your existing ronbronson.design integrations

interface NowItem {
  type: 'listening' | 'reading' | 'watching' | 'upcoming';
  title: string;
  artist?: string;
  author?: string;
  link?: string;
}

// Example static data - replace with API calls
const nowItems: NowItem[] = [
  // Populate from Last.fm API
  // Populate from Literal.club API
  // Populate from upcoming events
];

interface Props {
  listening?: { track: string; artist: string; link?: string };
  reading?: { title: string; author: string; link?: string };
  upcomingTalk?: { event: string; date: string; link?: string };
}

const { listening, reading, upcomingTalk } = Astro.props;
---

<div class="now-grid grid grid-3">
  {listening && (
    <div class="now-card card">
      <span class="now-card__label">Currently Listening</span>
      <p class="now-card__title">{listening.track}</p>
      <p class="now-card__meta">{listening.artist}</p>
    </div>
  )}

  {reading && (
    <div class="now-card card">
      <span class="now-card__label">Currently Reading</span>
      <p class="now-card__title">{reading.title}</p>
      <p class="now-card__meta">{reading.author}</p>
    </div>
  )}

  {upcomingTalk && (
    <div class="now-card card">
      <span class="now-card__label">Upcoming</span>
      <p class="now-card__title">{upcomingTalk.event}</p>
      <p class="now-card__meta">{upcomingTalk.date}</p>
    </div>
  )}
</div>

<style>
  .now-card__label {
    font-size: var(--font-size-00);
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: var(--font-letterspacing-3);
    color: var(--text-3);
    display: block;
    margin-block-end: var(--size-2);
  }

  .now-card__title {
    font-weight: var(--font-weight-5);
    margin-block-end: var(--size-1);
  }

  .now-card__meta {
    font-size: var(--font-size-0);
    color: var(--text-2);
  }
</style>
