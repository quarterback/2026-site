---
interface Metric {
  value: string;
  label: string;
}

interface Props {
  metrics: Metric[] | string;
}

const { metrics: metricsRaw } = Astro.props;
const metrics = typeof metricsRaw === 'string' ? JSON.parse(metricsRaw) : metricsRaw;
---

<div class="metrics-row">
  {metrics.map(metric => (
    <div class="metric-item">
      <div class="metric-value">{metric.value}</div>
      <div class="metric-label">{metric.label}</div>
    </div>
  ))}
</div>

<style>
  .metrics-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--metric-card-gap);
    margin-block: var(--space-8);
  }

  .metric-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--metric-card-padding);
    background: var(--surface-2);
    border-radius: var(--callout-border-radius);
    border: 1px solid var(--surface-3);
  }

  .metric-value {
    font-size: var(--metric-number-size);
    font-weight: var(--metric-number-weight);
    line-height: var(--line-height-tight);
    color: var(--brand);
  }

  .metric-label {
    font-size: var(--metric-label-size);
    font-weight: var(--metric-label-weight);
    color: var(--text-3);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  @media (max-width: 768px) {
    .metrics-row {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-4);
    }

    .metric-item {
      padding: var(--space-4);
    }
  }
</style>
