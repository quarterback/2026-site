---
interface Social {
  platform: string;
  url: string;
  icon: string;
  solid?: boolean;
}

interface Props {
  socials?: Social[];
  techStack?: string[];
  fonts?: string[];
}

const defaultSocials: Social[] = [
  { platform: 'Last.fm', url: 'https://last.fm/user/statechampion', icon: 'fa-lastfm' },
  { platform: 'Bluesky', url: 'https://bsky.app/profile/ronbronson.com', icon: 'fa-bluesky' },
  { platform: 'LinkedIn', url: 'https://linkedin.com/in/ronbronson', icon: 'fa-linkedin' },
  { platform: 'GitHub', url: 'https://github.com/ronbronson', icon: 'fa-github' },
  { platform: 'Instagram', url: 'https://instagram.com/ronbronson', icon: 'fa-instagram' },
  { platform: 'pi.fyi', url: 'https://www.pi.fyi/u/ron', icon: 'fa-vine' },
  { platform: 'Record Club', url: 'https://record.club/ron', icon: 'fa-record-vinyl', solid: true },
  { platform: 'Letterboxd', url: 'https://letterboxd.com/ronbronson', icon: 'fa-letterboxd' },
  { platform: 'Mastodon', url: 'https://mastodon.social/@ronbronson', icon: 'fa-mastodon' },
  { platform: 'Literal', url: 'https://literal.club/ronbronson', icon: 'fa-book', solid: true },
  { platform: 'Mixcloud', url: 'https://mixcloud.com/908RB', icon: 'fa-mixcloud' },
];

const { socials = defaultSocials, techStack = [], fonts = [] } = Astro.props;
---

<footer>
  <div class="container">
    <div class="social-links">
      {socials.map((social) => (
        <a
          href={social.url}
          target="_blank"
          rel="noopener"
          title={social.platform}
          class="social-link"
        >
          <i class={social.solid ? `fa-solid ${social.icon}` : `fa-brands ${social.icon}`} aria-hidden="true"></i>
        </a>
      ))}
    </div>

    {(techStack.length > 0 || fonts.length > 0) && (
      <div class="colophon">
        {techStack.length > 0 && (
          <p class="colophon-item">
            {techStack.join(', ')}
          </p>
        )}
        {fonts.length > 0 && (
          <p class="colophon-item">
            <span class="colophon-label">Typefaces</span> {fonts.join(', ')}
          </p>
        )}
      </div>
    )}
  </div>
</footer>

<style>
  footer {
    margin-top: var(--size-2);
    padding-block: var(--size-6);
    border-top: 1px solid var(--surface-3);
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: var(--size-4);
    margin-bottom: var(--size-5);
    flex-wrap: wrap;
  }

  .social-link {
    color: var(--text-2);
    font-size: var(--font-size-2);
    transition: color 0.2s ease;
  }

  .social-link:hover {
    color: var(--brand);
  }

  .colophon {
    text-align: left;
    font-family: var(--font-mono);
    font-size: var(--font-size-00) !important;
    line-height: 1.4;
    color: var(--text-3);
  }

  .colophon-item {
    margin: 0;
    margin-bottom: var(--size-2);
    font-size: var(--font-size-00) !important;
    line-height: 1.4;
  }

  .colophon-item:last-child {
    margin-bottom: 0;
  }

  .colophon-label {
    color: var(--text-2);
    font-weight: var(--font-weight-5);
    font-size: var(--font-size-00) !important;
  }

  @media (max-width: 600px) {
    .social-link {
      font-size: var(--font-size-1);
    }
  }
</style>
